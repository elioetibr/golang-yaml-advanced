name: Mark Stale Issues and PRs

on:
  schedule:
    - cron: '0 0 * * *'  # Daily at midnight
  workflow_dispatch:

permissions:
  issues: write
  pull-requests: write

jobs:
  stale:
    runs-on: ubuntu-latest
    steps:
      - uses: actions/stale@v9
        with:
          repo-token: ${{ secrets.GITHUB_TOKEN }}

          # Issues configuration
          stale-issue-message: |
            This issue has been automatically marked as stale because it has not had recent activity.
            It will be closed in 14 days if no further activity occurs.
            Thank you for your contributions.

            If this issue is still relevant, please comment to keep it open.
          close-issue-message: |
            This issue has been automatically closed due to inactivity.
            If you believe this is still relevant, please feel free to reopen it or create a new issue.
          days-before-issue-stale: 60
          days-before-issue-close: 14
          stale-issue-label: 'stale'
          exempt-issue-labels: 'pinned,security,bug,enhancement'

          # Pull requests configuration
          stale-pr-message: |
            This pull request has been automatically marked as stale because it has not had recent activity.
            It will be closed in 7 days if no further activity occurs.
            Thank you for your contributions.

            If this PR is still being worked on, please comment or push new commits to keep it open.
          close-pr-message: |
            This pull request has been automatically closed due to inactivity.
            If you'd like to continue working on this, please feel free to reopen it or create a new PR.
          days-before-pr-stale: 30
          days-before-pr-close: 7
          stale-pr-label: 'stale'
          exempt-pr-labels: 'work-in-progress,ready-for-review'

          # General configuration
          operations-per-run: 30
          remove-stale-when-updated: true
          debug-only: false